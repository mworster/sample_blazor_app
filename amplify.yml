version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo Installing .NET SDK 8
        # Install dependencies for .NET SDK
        - sudo yum update -y
        - sudo yum install -y wget curl
        # Download and install .NET SDK 8 using Microsoft's official script
        - curl -sSL https://dotnet.microsoft.com/download/dotnet/thank-you/sdk-8.0.100-linux-x64-binaries | bash
        # Add .NET to the PATH (if necessary, depending on installation)
        - export PATH=$PATH:$HOME/dotnet
    build:
      commands:
        - echo Building the .NET project
        - dotnet publish -c Release -o ./output
  artifacts:
    baseDirectory: ./output
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*

